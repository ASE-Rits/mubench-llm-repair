# Project: ushahidia / Case: 1

## original.java -> misuse.java
-			
-			//free resources
-			c.close();
-		final int reportState = c.getInt(0);
-		
-		//free resources
-		c.close();
-		
-		return reportState;
+		return c.getInt(0);

## misuse.java -> fixed.java
-		if ( c.getCount() < 1 ){
-			return STATE_NOT_OPENGEOSMS;
+		try {
+			if ( c.getCount() < 1 ){
+				return STATE_NOT_OPENGEOSMS;
+			}
+			c.moveToFirst();
+			return c.getInt(0);
+		} finally {
+			c.close();
-		c.moveToFirst();
-		return c.getInt(0);

## original.java -> fixed.java
-		if ( c.getCount() < 1 ){
-			
-			//free resources
+		try {
+			if ( c.getCount() < 1 ){
+				return STATE_NOT_OPENGEOSMS;
+			}
+			c.moveToFirst();
+			return c.getInt(0);
+		} finally {
-			return STATE_NOT_OPENGEOSMS;
-		c.moveToFirst();
-		final int reportState = c.getInt(0);
-		
-		//free resources
-		c.close();
-		
-		return reportState;
